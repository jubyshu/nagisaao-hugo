{{- define "main" -}}

<article class="post-container post-container-single">
  <section class="post">
    <h3>{{ .Params.year }}</h3>
    <hr/>
    <ul>
      <li>
        文章: <span class="post_num">{{ len .Pages }}</span> 篇
      </li>
      <li>
        {{- $totalWords := 0 }}
        {{- range .Pages }}
          {{- $totalWords = add $totalWords .WordCount }}
        {{- end }}
        字数: <span class="post_num">{{ $totalWords }}</span> 字
      </li>
    </ul>
    <hr/>

    <ul class="archive-year">
    {{- range .Pages.ByDate.Reverse }}
      <li>
        {{ .Date.Format "01-02" }} » <a href="{{ .RelPermalink }}">{{ .Title }}</a>
      </li>
    {{- end }}
    </ul>
    <hr/>

    {{- $years := .CurrentSection.Parent.Sections.ByTitle.Reverse }}
    {{- if gt (len $years) 0 }}
    <h3>More</h3>
    <ul class="archive-years more">
    {{- range $years }}
      {{- if ne .RelPermalink $.RelPermalink }}
      <li><a href="{{ .RelPermalink }}">{{ .Params.year }}</a></li>
      {{- end }}
    {{- end }}
    </ul>
    {{- end }}
  </section>
</article>

{{- end -}}
